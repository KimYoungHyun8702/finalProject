<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mugs.config.mapper.majorMapper">
	
<resultMap type="major" id="major-basic-resultmap">
		<id column="major_id" property="majorId"/>
		<result column="major_name" property="majorName"/>
		<result column="college_id" property="collegeId"/>
</resultMap>

<sql id="select-major">
	SELECT		major_id,
				major_name,
				college_id
	FROM 		major					
</sql>

<!-- insert -->
<insert id="insertMajor" parameterType="major">
	<selectKey resultType="int" keyProperty="majorId" order="BEFORE">
		SELECT MAJOR_ID_SEQ.nextval FROM dual
	</selectKey>
	INSERT INTO major VALUES(#{majorId}, #{majorName}, #{collegeId})
</insert>

<!-- update -->
<update id="updateMajorById" parameterType="major">
	UPDATE	major
	SET		major_name=#{majorName},
			college_id=#{collegeId}
	WHERE	major_id=#{majorId}
</update>

<!-- delete -->
	<delete id="deleteMajor" parameterType="int">
		DELETE FROM major WHERE major_id=#{value}
	</delete>

<!-- select -->
<select id="selectMajorList" resultMap="major-basic-resultmap">
	<include refid="select-major"/>
</select>

<select id="selectMajorById" resultType="major" parameterType="int">
	<include refid="select-major"/>
	WHERE major_id=#{value}
</select>

</mapper>